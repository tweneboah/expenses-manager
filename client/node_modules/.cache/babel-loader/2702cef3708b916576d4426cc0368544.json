{"ast":null,"code":"var _jsxFileName = \"/Users/emmanuel/Desktop/Development/expenses-manager/client/src/Components/CreateExpenses/index.js\";\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport \"react-dates/initialize\";\nimport { SingleDatePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { addExpense, fetchExpenses } from '../../redux/actions/expenses-actions';\nimport store from '../../redux/store';\nimport { connect } from 'react-redux';\n\nclass CreateExpenses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      description: 'rtyty',\n      amount: '',\n      notes: '',\n      createdAt: moment(),\n      calendarFocused: false\n    };\n\n    this.onChangeInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onAmountChange = e => {\n      const amount = e.target.value;\n\n      if (amount.match(/^\\d*(\\.\\d{0,2})?$/)) {\n        this.setState(() => ({\n          amount\n        }));\n      }\n    };\n\n    this.onDateChange = createdAt => {\n      this.setState({\n        createdAt: createdAt\n      });\n    };\n\n    this.onFocusChange = ({\n      focused\n    }) => {\n      this.setState({\n        calendarFocused: focused\n      });\n    };\n\n    this.onFormSubmit = e => {\n      e.preventDefault();\n      store.dispatch(addExpense({\n        createdAt: this.state.createdAt.valueOf()\n      }));\n      store.dispatch(fetchExpenses(this.state)); //This will gives live update of listing without refreshing\n    };\n  }\n\n  componentDidMount() {\n    store.dispatch(fetchExpenses());\n  }\n\n  render() {\n    console.log('From props', this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Create Expenses\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      autoFocus: true,\n      value: this.state.description,\n      name: \"description\",\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"amount\",\n      value: this.amount,\n      name: \"amount\",\n      onChange: this.onAmountChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(SingleDatePicker, {\n      date: this.state.createdAt //The current date when the app runs, we will use moment = The date to start\n      ,\n      onDateChange: this.onDateChange,\n      focused: this.state.calendarFocused,\n      onFocusChange: this.onFocusChange,\n      numberOfMonths: 1 //select only one thus only one calendar\n      ,\n      isOutsideRange: () => false //This allows us to view all past date and current or future\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      placeholder: \"Add notes (optional)\",\n      value: this.notes,\n      name: \"notes\",\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"List of expenses\"), this.props.expensesFromCreateExpComponent.length, this.props.expensesFromCreateExpComponent.map(expense => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, expense.description), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, moment(expense.createdAt).format(\"MMM Do, YYYY\")));\n    }));\n  }\n\n}\n\nconst mapStateToprops = state => {\n  return {\n    expensesFromCreateExpComponent: state.expensesRootReducer.expenses\n  };\n};\n\nexport default connect(mapStateToprops, {\n  fetchExpenses\n})(CreateExpenses);","map":{"version":3,"sources":["/Users/emmanuel/Desktop/Development/expenses-manager/client/src/Components/CreateExpenses/index.js"],"names":["React","Component","moment","SingleDatePicker","addExpense","fetchExpenses","store","connect","CreateExpenses","state","description","amount","notes","createdAt","calendarFocused","onChangeInput","e","setState","target","name","value","onAmountChange","match","onDateChange","onFocusChange","focused","onFormSubmit","preventDefault","dispatch","valueOf","componentDidMount","render","console","log","props","expensesFromCreateExpComponent","length","map","expense","format","mapStateToprops","expensesRootReducer","expenses"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport \"react-dates/initialize\";\nimport { SingleDatePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { addExpense, fetchExpenses } from '../../redux/actions/expenses-actions';\nimport store from '../../redux/store'\nimport { connect } from 'react-redux';\nclass CreateExpenses extends Component {\n\n\n    state = {\n        description: 'rtyty',\n        amount: '',\n        notes: '',\n        createdAt: moment(),\n        calendarFocused: false,\n\n    };\n\n    //changeinput\n    onChangeInput = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    };\n\n    //OnAmountChange\n\n    //We want to allow users to type in only numbers with decimal value so we will use a regression to achieve that\n    onAmountChange = e => {\n        const amount = e.target.value;\n\n        if (amount.match(/^\\d*(\\.\\d{0,2})?$/)) {\n            this.setState(() => ({ amount }));\n        }\n    };\n\n    onDateChange = createdAt => {\n        this.setState({\n            createdAt: createdAt\n        });\n    };\n    //Destructing the object and grab only focused and set them to state and this done automatically by react date api and this is how the documentation stated\n\n    //This is where react library changes the value\n    onFocusChange = ({ focused }) => {\n        this.setState({\n            calendarFocused: focused\n        });\n    };\n\n    //form submit\n\n    onFormSubmit = e => {\n        e.preventDefault();\n        store.dispatch(addExpense({\n            createdAt: this.state.createdAt.valueOf()\n        }));\n        store.dispatch(fetchExpenses(this.state))//This will gives live update of listing without refreshing\n\n    };\n\n\n    componentDidMount() {\n        store.dispatch(fetchExpenses())\n    }\n\n    render() {\n\n        console.log('From props', this.props)\n        return (\n            <div>\n                <h1>Create Expenses</h1>\n                <form>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Description\"\n                        autoFocus\n                        value={this.state.description}\n                        name=\"description\"\n                        onChange={this.onChangeInput}\n                    />\n\n                    <input\n                        type=\"number\"\n                        placeholder=\"amount\"\n                        value={this.amount}\n                        name=\"amount\"\n                        onChange={this.onAmountChange}\n                    />\n\n                    <SingleDatePicker\n                        date={this.state.createdAt} //The current date when the app runs, we will use moment = The date to start\n                        onDateChange={this.onDateChange}\n                        focused={this.state.calendarFocused}\n                        onFocusChange={this.onFocusChange}\n                        numberOfMonths={1} //select only one thus only one calendar\n                        isOutsideRange={() => false} //This allows us to view all past date and current or future\n                    />\n                    <textarea\n                        placeholder=\"Add notes (optional)\"\n                        value={this.notes}\n                        name=\"notes\"\n                        onChange={this.onChangeInput}\n                    ></textarea>\n\n                    <button type=\"submit\" onClick={this.onFormSubmit}>\n                        Submit\n          </button>\n                </form>\n\n                <h1>List of expenses</h1>\n                {this.props.expensesFromCreateExpComponent.length}\n\n                {this.props.expensesFromCreateExpComponent.map((expense) => {\n                    return (\n                        <div>\n                            <h3>{expense.description}</h3>\n                            <h5>{moment(expense.createdAt).format(\"MMM Do, YYYY\")}</h5>\n                        </div>\n                    )\n                })}\n\n            </div>\n        );\n    }\n}\n\nconst mapStateToprops = (state) => {\n    return {\n        expensesFromCreateExpComponent: state.expensesRootReducer.expenses\n    }\n}\n\nexport default connect(mapStateToprops, { fetchExpenses })(CreateExpenses);"]},"metadata":{},"sourceType":"module"}