{"ast":null,"code":"var _jsxFileName = \"/Users/emmanuel/Desktop/Development/expenses-manager/client/src/Components/CreateExpenses/index.js\";\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport \"react-dates/initialize\";\nimport { SingleDatePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { addExpense, fetchExpenses } from '../../redux/actions/expenses-actions';\nimport store from '../../redux/store';\nimport { connect } from 'react-redux';\nimport expensesSlectors from '../../utils/expensesFilters';\n\nclass CreateExpenses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      description: 'rtyty',\n      amount: '',\n      notes: '',\n      createdAt: moment(),\n      calendarFocused: false\n    };\n\n    this.onChangeInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onAmountChange = e => {\n      const amount = e.target.value;\n\n      if (amount.match(/^\\d*(\\.\\d{0,2})?$/)) {\n        this.setState(() => ({\n          amount\n        }));\n      }\n    };\n\n    this.onDateChange = createdAt => {\n      this.setState({\n        createdAt: createdAt\n      });\n    };\n\n    this.onFocusChange = ({\n      focused\n    }) => {\n      this.setState({\n        calendarFocused: focused\n      });\n    };\n\n    this.onFormSubmit = e => {\n      e.preventDefault(); //Calling the addExpense Action. Remember that for the date we need a number to comapre date range and also the mongoose createdAt date field also requires a number so we have to convert the value from the date which gives something like this 20.2.10\n\n      store.dispatch(addExpense({\n        description: this.state.description,\n        createdAt: this.state.createdAt.valueOf(),\n        notes: this.state.notes\n      }));\n      store.dispatch(fetchExpenses()); //This will gives live update of listing without refreshing\n    };\n  }\n\n  componentDidMount() {\n    store.dispatch(fetchExpenses());\n  }\n\n  render() {\n    console.log('From props', this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Create Expenses\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      autoFocus: true,\n      value: this.state.description,\n      name: \"description\",\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"amount\",\n      value: this.amount,\n      name: \"amount\",\n      onChange: this.onAmountChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(SingleDatePicker, {\n      date: this.state.createdAt //The current date when the app runs, we will use moment = The date to start\n      ,\n      onDateChange: this.onDateChange,\n      focused: this.state.calendarFocused,\n      onFocusChange: this.onFocusChange,\n      numberOfMonths: 1 //select only one thus only one calendar\n      ,\n      isOutsideRange: () => false //This allows us to view all past date and current or future\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      placeholder: \"Add notes (optional)\",\n      value: this.notes,\n      name: \"notes\",\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Submit\")), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"List of expenses\"), this.props.expenses.length, this.props.expenses.map(expense => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, expense.description), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, moment(expense.createdAt).format(\"MMM Do, YYYY\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, expense.notes));\n    }));\n  }\n\n}\n\nconst mapStateToprops = state => {\n  console.log('TY', state.expensesRootReducer.expenses);\n  return {\n    expenses: expensesSlectors(state.expensesRootReducer.expenses, state.filterReducer)\n  };\n};\n\nexport default connect(mapStateToprops, {\n  fetchExpenses\n})(CreateExpenses);","map":{"version":3,"sources":["/Users/emmanuel/Desktop/Development/expenses-manager/client/src/Components/CreateExpenses/index.js"],"names":["React","Component","moment","SingleDatePicker","addExpense","fetchExpenses","store","connect","expensesSlectors","CreateExpenses","state","description","amount","notes","createdAt","calendarFocused","onChangeInput","e","setState","target","name","value","onAmountChange","match","onDateChange","onFocusChange","focused","onFormSubmit","preventDefault","dispatch","valueOf","componentDidMount","render","console","log","props","expenses","length","map","expense","format","mapStateToprops","expensesRootReducer","filterReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport \"react-dates/initialize\";\nimport { SingleDatePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { addExpense, fetchExpenses } from '../../redux/actions/expenses-actions';\nimport store from '../../redux/store'\nimport { connect } from 'react-redux';\nimport expensesSlectors from '../../utils/expensesFilters'\nclass CreateExpenses extends Component {\n\n\n    state = {\n        description: 'rtyty',\n        amount: '',\n        notes: '',\n        createdAt: moment(),\n        calendarFocused: false,\n\n    };\n\n    //changeinput\n    onChangeInput = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    };\n\n    //OnAmountChange\n\n    //We want to allow users to type in only numbers with decimal value so we will use a regression to achieve that\n    onAmountChange = e => {\n        const amount = e.target.value;\n\n        if (amount.match(/^\\d*(\\.\\d{0,2})?$/)) {\n            this.setState(() => ({ amount }));\n        }\n    };\n\n    onDateChange = createdAt => {\n        this.setState({\n            createdAt: createdAt\n        });\n    };\n    //Destructing the object and grab only focused and set them to state and this done automatically by react date api and this is how the documentation stated\n\n    //This is where react library changes the value\n    onFocusChange = ({ focused }) => {\n        this.setState({\n            calendarFocused: focused\n        });\n    };\n\n    //form submit\n\n    onFormSubmit = e => {\n        e.preventDefault();\n        //Calling the addExpense Action. Remember that for the date we need a number to comapre date range and also the mongoose createdAt date field also requires a number so we have to convert the value from the date which gives something like this 20.2.10\n        store.dispatch(addExpense({\n            description: this.state.description,\n            createdAt: this.state.createdAt.valueOf(),\n            notes: this.state.notes\n        }));\n        store.dispatch(fetchExpenses())//This will gives live update of listing without refreshing\n\n    };\n\n\n    componentDidMount() {\n        store.dispatch(fetchExpenses())\n    }\n\n    render() {\n\n        console.log('From props', this.props)\n        return (\n            <div>\n                <h1>Create Expenses</h1>\n                <form>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Description\"\n                        autoFocus\n                        value={this.state.description}\n                        name=\"description\"\n                        onChange={this.onChangeInput}\n                    />\n\n                    <input\n                        type=\"number\"\n                        placeholder=\"amount\"\n                        value={this.amount}\n                        name=\"amount\"\n                        onChange={this.onAmountChange}\n                    />\n\n                    <SingleDatePicker\n                        date={this.state.createdAt} //The current date when the app runs, we will use moment = The date to start\n                        onDateChange={this.onDateChange}\n                        focused={this.state.calendarFocused}\n                        onFocusChange={this.onFocusChange}\n                        numberOfMonths={1} //select only one thus only one calendar\n                        isOutsideRange={() => false} //This allows us to view all past date and current or future\n                    />\n                    <textarea\n                        placeholder=\"Add notes (optional)\"\n                        value={this.notes}\n                        name=\"notes\"\n                        onChange={this.onChangeInput}\n                    ></textarea>\n\n                    <button type=\"submit\" onClick={this.onFormSubmit}>\n                        Submit\n          </button>\n                </form>\n\n                <h1>List of expenses</h1>\n                {this.props.expenses.length}\n\n                {this.props.expenses.map((expense) => {\n                    return (\n                        <div>\n                            <h3>{expense.description}</h3>\n                            <h5>{moment(expense.createdAt).format(\"MMM Do, YYYY\")}</h5>\n                            <p>{expense.notes}</p>\n                        </div>\n                    )\n                })}\n\n            </div>\n        );\n    }\n}\n\nconst mapStateToprops = (state) => {\n    console.log('TY', state.expensesRootReducer.expenses)\n    return {\n        expenses: expensesSlectors(state.expensesRootReducer.expenses, state.filterReducer)\n    }\n}\n\nexport default connect(mapStateToprops, { fetchExpenses })(CreateExpenses);"]},"metadata":{},"sourceType":"module"}